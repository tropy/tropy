//
// Editor toolbar
// --------------------------------------------------

.editor {
  .toolbar {
    padding-top: 0;
    border-bottom: 1px solid $editor-toolbar-border;
    margin-bottom: 0; // Dev
    cursor: default;
    position: absolute;
    left: 0;
    top: 0;
    width: 100%;
    height: $toolbar-height + 1px;
    //display: none;

    .frameless & {
      --zoom: inherit; // Always counterbalance frameless editor toolbar
      font-size: zoom($font-size-base);
      height: zoom(os($toolbar-frameless-height) + 1px);
    }

    .side-by-side & {
      .frameless & {
        -webkit-app-region: drag;
      }
    }

    .tool-group {
      & + .tool-group {
        margin-left: zoom($space-lg);
      }
    }
  }

  .toolbar-left {
    @if $platform == linux {
      .frameless & {
        @include variant(".side-by-side .editor") {
          overflow: hidden;
          padding: 0 zoom(2px); // Do not clip link target
          margin: 0 zoom(-2px);

          @include variant(".frameless.window-controls-left") {
            margin-right: zoom(52px);
          }

          @include variant(".frameless.window-controls-right") {
            margin-right: zoom(166px - 37px - 37px);

            @include variant(
              ".frameless.window-controls-minimize",
              ".frameless.window-controls-maximize"
            ) {
              margin-right: zoom(166px - 37px);
            }

            @include variant(
              ".frameless.window-controls-minimize.window-controls-maximize"
            ) {
              margin-right: zoom(166px);
            }
          }
        }
      }
    }
  }

  .toolbar-context {
    @include state(".editor.is-blurred") {
      opacity: 0.6;

      &.link {
        opacity: initial;
      }
    }

    @include state(".is-blurred .editor") {
      @if $platform == darwin {
        opacity: $editor-toolbar-blurred-opacity-darwin;
      }
    }
  }

  //&:hover {
  //  .toolbar {
  //    display: flex;
  //  }
  //}

  .link-target {
    flex: 0 1 zoom($link-target-width);
    height: zoom($input-height-base);
    padding: 0 zoom($padding-base-horizontal);
    border-width: zoom(1px);
    border-radius: zoom($input-border-radius-small);

    &:focus {
      box-shadow: 0 0 0 zoom(2px) $input-btn-focus-color !important;
    }
  }

  .btn-icon {
    svg {
      width: zoom(16px);
      height: zoom(16px);
    }
  }
}
